import{a as y,t as F,c as nt,b as ce}from"../chunks/disclose-version.UbKjYNZS.js";import{i as ue,p as fe}from"../chunks/stores.CqO5WCXF.js";import{p as he,aD as rt,aE as me,f as H,a as de,l as R,s as V,q as u,t as $,aF as I,c as w,r as b,aG as yt}from"../chunks/runtime.Be3Zgj9Q.js";import{s as ge,e as pe,b as ye,a as L}from"../chunks/store.Co54iOR1.js";import{o as we,i as at}from"../chunks/index-client.Bd82eBhR.js";import{e as W,f as be,i as G,l as ve,a as Ft,s as st,o as M,n as wt,b as $t,c as bt}from"../chunks/fetchData.BQMDBV00.js";"stream"in Blob.prototype||Object.defineProperty(Blob.prototype,"stream",{value(){return new Response(this).body}}),"setBigUint64"in DataView.prototype||Object.defineProperty(DataView.prototype,"setBigUint64",{value(t,e,n){const r=Number(0xffffffffn&e),s=Number(e>>32n);this.setUint32(t+(n?0:4),r,n),this.setUint32(t+(n?4:0),s,n)}});var J=t=>new DataView(new ArrayBuffer(t)),C=t=>new Uint8Array(t.buffer||t),K=t=>new TextEncoder().encode(String(t)),z=t=>Math.min(4294967295,Number(t)),It=t=>Math.min(65535,Number(t));function xe(t,e){if(e===void 0||e instanceof Date||(e=new Date(e)),t instanceof File)return{isFile:1,t:e||new Date(t.lastModified),i:t.stream()};if(t instanceof Response)return{isFile:1,t:e||new Date(t.headers.get("Last-Modified")||Date.now()),i:t.body};if(e===void 0)e=new Date;else if(isNaN(e))throw new Error("Invalid modification date.");if(t===void 0)return{isFile:0,t:e};if(typeof t=="string")return{isFile:1,t:e,i:K(t)};if(t instanceof Blob)return{isFile:1,t:e,i:t.stream()};if(t instanceof Uint8Array||t instanceof ReadableStream)return{isFile:1,t:e,i:t};if(t instanceof ArrayBuffer||ArrayBuffer.isView(t))return{isFile:1,t:e,i:C(t)};if(Symbol.asyncIterator in t)return{isFile:1,t:e,i:Vt(t[Symbol.asyncIterator]())};throw new TypeError("Unsupported input format.")}function Vt(t,e=t){return new ReadableStream({async pull(n){let r=0;for(;n.desiredSize>r;){const s=await t.next();if(!s.value){n.close();break}{const a=Se(s.value);n.enqueue(a),r+=a.byteLength}}},cancel(n){var r;(r=e.throw)==null||r.call(e,n)}})}function Se(t){return typeof t=="string"?K(t):t instanceof Uint8Array?t:C(t)}function Mt(t,e,n){let[r,s]=function(a){return a?a instanceof Uint8Array?[a,1]:ArrayBuffer.isView(a)||a instanceof ArrayBuffer?[C(a),1]:[K(a),0]:[void 0,0]}(e);if(t instanceof File)return{o:vt(r||K(t.name)),u:BigInt(t.size),l:s};if(t instanceof Response){const a=t.headers.get("content-disposition"),i=a&&a.match(/;\s*filename\*?\s*=\s*(?:UTF-\d+''|)["']?([^;"'\r\n]*)["']?(?:;|$)/i),o=i&&i[1]||t.url&&new URL(t.url).pathname.split("/").findLast(Boolean),l=o&&decodeURIComponent(o),d=n||+t.headers.get("content-length");return{o:vt(r||K(l)),u:BigInt(d),l:s}}return r=vt(r,t!==void 0||n!==void 0),typeof t=="string"?{o:r,u:BigInt(K(t).length),l:s}:t instanceof Blob?{o:r,u:BigInt(t.size),l:s}:t instanceof ArrayBuffer||ArrayBuffer.isView(t)?{o:r,u:BigInt(t.byteLength),l:s}:{o:r,u:Ue(t,n),l:s}}function Ue(t,e){return e>-1?BigInt(e):t?void 0:0n}function vt(t,e=1){if(!t||t.every(n=>n===47))throw new Error("The file must have a name.");if(e)for(;t[t.length-1]===47;)t=t.subarray(0,-1);else t[t.length-1]!==47&&(t=new Uint8Array([...t,47]));return t}var zt=new Uint32Array(256);for(let t=0;t<256;++t){let e=t;for(let n=0;n<8;++n)e=e>>>1^(1&e&&3988292384);zt[t]=e}function Lt(t,e=0){e^=-1;for(var n=0,r=t.length;n<r;n++)e=e>>>8^zt[255&e^t[n]];return(-1^e)>>>0}function Ot(t,e,n=0){const r=t.getSeconds()>>1|t.getMinutes()<<5|t.getHours()<<11,s=t.getDate()|t.getMonth()+1<<5|t.getFullYear()-1980<<9;e.setUint16(n,r,1),e.setUint16(n+2,s,1)}function Ee({o:t,l:e},n){return 8*(!e||(n??function(r){try{Re.decode(r)}catch{return 0}return 1}(t)))}var Re=new TextDecoder("utf8",{fatal:1});function _e(t,e=0){const n=J(30);return n.setUint32(0,1347093252),n.setUint32(4,754976768|e),Ot(t.t,n,10),n.setUint16(26,t.o.length,1),C(n)}async function*Pe(t){let{i:e}=t;if("then"in e&&(e=await e),e instanceof Uint8Array)yield e,t.m=Lt(e,0),t.u=BigInt(e.length);else{t.u=0n;const n=e.getReader();for(;;){const{value:r,done:s}=await n.read();if(s)break;t.m=Lt(r,t.m),t.u+=BigInt(r.length),yield r}}}function Ce(t,e){const n=J(16+(e?8:0));return n.setUint32(0,1347094280),n.setUint32(4,t.isFile?t.m:0,1),e?(n.setBigUint64(8,t.u,1),n.setBigUint64(16,t.u,1)):(n.setUint32(8,z(t.u),1),n.setUint32(12,z(t.u),1)),C(n)}function Fe(t,e,n=0,r=0){const s=J(46);return s.setUint32(0,1347092738),s.setUint32(4,755182848),s.setUint16(8,2048|n),Ot(t.t,s,12),s.setUint32(16,t.isFile?t.m:0,1),s.setUint32(20,z(t.u),1),s.setUint32(24,z(t.u),1),s.setUint16(28,t.o.length,1),s.setUint16(30,r,1),s.setUint16(40,t.isFile?33204:16893,1),s.setUint32(42,z(e),1),C(s)}function $e(t,e,n){const r=J(n);return r.setUint16(0,1,1),r.setUint16(2,n-4,1),16&n&&(r.setBigUint64(4,t.u,1),r.setBigUint64(12,t.u,1)),r.setBigUint64(n-8,e,1),C(r)}function Ht(t){return t instanceof File||t instanceof Response?[[t],[t]]:[[t.input,t.name,t.size],[t.input,t.lastModified]]}var Ie=t=>function(e){let n=BigInt(22),r=0n,s=0;for(const a of e){if(!a.o)throw new Error("Every file must have a non-empty name.");if(a.u===void 0)throw new Error(`Missing size for file "${new TextDecoder().decode(a.o)}".`);const i=a.u>=0xffffffffn,o=r>=0xffffffffn;r+=BigInt(46+a.o.length+(i&&8))+a.u,n+=BigInt(a.o.length+46+(12*o|28*i)),s||(s=i)}return(s||r>=0xffffffffn)&&(n+=BigInt(76)),n+r}(function*(e){for(const n of e)yield Mt(...Ht(n)[0])}(t));function Le(t,e={}){const n={"Content-Type":"application/zip","Content-Disposition":"attachment"};return(typeof e.length=="bigint"||Number.isInteger(e.length))&&e.length>0&&(n["Content-Length"]=String(e.length)),e.metadata&&(n["Content-Length"]=String(Ie(e.metadata))),new Response(Te(t,e),{headers:n})}function Te(t,e={}){const n=function(r){var a;const s=r[Symbol.iterator in r?Symbol.iterator:Symbol.asyncIterator]();return{async next(){const i=await s.next();if(i.done)return i;const[o,l]=Ht(i.value);return{done:0,value:Object.assign(xe(...l),Mt(...o))}},throw:(a=s.throw)==null?void 0:a.bind(s),[Symbol.asyncIterator](){return this}}}(t);return Vt(async function*(r,s){const a=[];let i=0n,o=0n,l=0;for await(const c of r){const B=Ee(c,s.buffersAreUTF8);yield _e(c,B),yield new Uint8Array(c.o),c.isFile&&(yield*Pe(c));const A=c.u>=0xffffffffn,_=12*(i>=0xffffffffn)|28*A;yield Ce(c,A),a.push(Fe(c,i,B,_)),a.push(c.o),_&&a.push($e(c,i,_)),A&&(i+=8n),o++,i+=BigInt(46+c.o.length)+c.u,l||(l=A)}let d=0n;for(const c of a)yield c,d+=BigInt(c.length);if(l||i>=0xffffffffn){const c=J(76);c.setUint32(0,1347094022),c.setBigUint64(4,BigInt(44),1),c.setUint32(12,755182848),c.setBigUint64(24,o,1),c.setBigUint64(32,o,1),c.setBigUint64(40,d,1),c.setBigUint64(48,i,1),c.setUint32(56,1347094023),c.setBigUint64(64,i+d,1),c.setUint32(72,1,1),yield C(c)}const g=J(22);g.setUint32(0,1347093766),g.setUint16(8,It(o),1),g.setUint16(10,It(o),1),g.setUint32(12,z(d),1),g.setUint32(16,z(i),1),yield C(g)}(n,e),n)}function Be(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),s=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(s),e&&(r.href=e),s.href=t,s.href}const Ae=(()=>{let t=0;const e=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(t+=1,`u${e()}${t}`)})();function T(t){const e=[];for(let n=0,r=t.length;n<r;n++)e.push(t[n]);return e}let X=null;function Wt(t={}){return X||(t.includeStyleProperties?(X=t.includeStyleProperties,X):(X=T(window.getComputedStyle(document.documentElement)),X))}function it(t,e){const r=(t.ownerDocument.defaultView||window).getComputedStyle(t).getPropertyValue(e);return r?parseFloat(r.replace("px","")):0}function De(t){const e=it(t,"border-left-width"),n=it(t,"border-right-width");return t.clientWidth+e+n}function ke(t){const e=it(t,"border-top-width"),n=it(t,"border-bottom-width");return t.clientHeight+e+n}function Gt(t,e={}){const n=e.width||De(t),r=e.height||ke(t);return{width:n,height:r}}function qe(){let t,e;try{e=process}catch{}const n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}const S=16384;function je(t){(t.width>S||t.height>S)&&(t.width>S&&t.height>S?t.width>t.height?(t.height*=S/t.width,t.width=S):(t.width*=S/t.height,t.height=S):t.width>S?(t.height*=S/t.width,t.width=S):(t.width*=S/t.height,t.height=S))}function ot(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>e(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=t})}async function Ve(t){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(t)).then(encodeURIComponent).then(e=>`data:image/svg+xml;charset=utf-8,${e}`)}async function Me(t,e,n){const r="http://www.w3.org/2000/svg",s=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return s.setAttribute("width",`${e}`),s.setAttribute("height",`${n}`),s.setAttribute("viewBox",`0 0 ${e} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),s.appendChild(a),a.appendChild(t),Ve(s)}const v=(t,e)=>{if(t instanceof e)return!0;const n=Object.getPrototypeOf(t);return n===null?!1:n.constructor.name===e.name||v(n,e)};function ze(t){const e=t.getPropertyValue("content");return`${t.cssText} content: '${e.replace(/'|"/g,"")}';`}function Oe(t,e){return Wt(e).map(n=>{const r=t.getPropertyValue(n),s=t.getPropertyPriority(n);return`${n}: ${r}${s?" !important":""};`}).join(" ")}function He(t,e,n,r){const s=`.${t}:${e}`,a=n.cssText?ze(n):Oe(n,r);return document.createTextNode(`${s}{${a}}`)}function Tt(t,e,n,r){const s=window.getComputedStyle(t,n),a=s.getPropertyValue("content");if(a===""||a==="none")return;const i=Ae();try{e.className=`${e.className} ${i}`}catch{return}const o=document.createElement("style");o.appendChild(He(i,n,s,r)),e.appendChild(o)}function We(t,e,n){Tt(t,e,":before",n),Tt(t,e,":after",n)}const Bt="application/font-woff",At="image/jpeg",Ge={woff:Bt,woff2:Bt,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:At,jpeg:At,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Xe(t){const e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}function Ut(t){const e=Xe(t).toLowerCase();return Ge[e]||""}function Ze(t){return t.split(/,/)[1]}function St(t){return t.search(/^(data:)/)!==-1}function Ke(t,e){return`data:${e};base64,${t}`}async function Xt(t,e,n){const r=await fetch(t,e);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const s=await r.blob();return new Promise((a,i)=>{const o=new FileReader;o.onerror=i,o.onloadend=()=>{try{a(n({res:r,result:o.result}))}catch(l){i(l)}},o.readAsDataURL(s)})}const xt={};function Je(t,e,n){let r=t.replace(/\?.*/,"");return n&&(r=t),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),e?`[${e}]${r}`:r}async function Et(t,e,n){const r=Je(t,e,n.includeQueryParams);if(xt[r]!=null)return xt[r];n.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+new Date().getTime());let s;try{const a=await Xt(t,n.fetchRequestInit,({res:i,result:o})=>(e||(e=i.headers.get("Content-Type")||""),Ze(o)));s=Ke(a,e)}catch(a){s=n.imagePlaceholder||"";let i=`Failed to fetch resource: ${t}`;a&&(i=typeof a=="string"?a:a.message),i&&console.warn(i)}return xt[r]=s,s}async function Qe(t){const e=t.toDataURL();return e==="data:,"?t.cloneNode(!1):ot(e)}async function Ye(t,e){if(t.currentSrc){const a=document.createElement("canvas"),i=a.getContext("2d");a.width=t.clientWidth,a.height=t.clientHeight,i==null||i.drawImage(t,0,0,a.width,a.height);const o=a.toDataURL();return ot(o)}const n=t.poster,r=Ut(n),s=await Et(n,r,e);return ot(s)}async function Ne(t,e){var n;try{if(!((n=t==null?void 0:t.contentDocument)===null||n===void 0)&&n.body)return await lt(t.contentDocument.body,e,!0)}catch{}return t.cloneNode(!1)}async function tn(t,e){return v(t,HTMLCanvasElement)?Qe(t):v(t,HTMLVideoElement)?Ye(t,e):v(t,HTMLIFrameElement)?Ne(t,e):t.cloneNode(Zt(t))}const en=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SLOT",Zt=t=>t.tagName!=null&&t.tagName.toUpperCase()==="SVG";async function nn(t,e,n){var r,s;if(Zt(e))return e;let a=[];return en(t)&&t.assignedNodes?a=T(t.assignedNodes()):v(t,HTMLIFrameElement)&&(!((r=t.contentDocument)===null||r===void 0)&&r.body)?a=T(t.contentDocument.body.childNodes):a=T(((s=t.shadowRoot)!==null&&s!==void 0?s:t).childNodes),a.length===0||v(t,HTMLVideoElement)||await a.reduce((i,o)=>i.then(()=>lt(o,n)).then(l=>{l&&e.appendChild(l)}),Promise.resolve()),e}function rn(t,e,n){const r=e.style;if(!r)return;const s=window.getComputedStyle(t);s.cssText?(r.cssText=s.cssText,r.transformOrigin=s.transformOrigin):Wt(n).forEach(a=>{let i=s.getPropertyValue(a);a==="font-size"&&i.endsWith("px")&&(i=`${Math.floor(parseFloat(i.substring(0,i.length-2)))-.1}px`),v(t,HTMLIFrameElement)&&a==="display"&&i==="inline"&&(i="block"),a==="d"&&e.getAttribute("d")&&(i=`path(${e.getAttribute("d")})`),r.setProperty(a,i,s.getPropertyPriority(a))})}function sn(t,e){v(t,HTMLTextAreaElement)&&(e.innerHTML=t.value),v(t,HTMLInputElement)&&e.setAttribute("value",t.value)}function an(t,e){if(v(t,HTMLSelectElement)){const n=e,r=Array.from(n.children).find(s=>t.value===s.getAttribute("value"));r&&r.setAttribute("selected","")}}function on(t,e,n){return v(e,Element)&&(rn(t,e,n),We(t,e,n),sn(t,e),an(t,e)),e}async function ln(t,e){const n=t.querySelectorAll?t.querySelectorAll("use"):[];if(n.length===0)return t;const r={};for(let a=0;a<n.length;a++){const o=n[a].getAttribute("xlink:href");if(o){const l=t.querySelector(o),d=document.querySelector(o);!l&&d&&!r[o]&&(r[o]=await lt(d,e,!0))}}const s=Object.values(r);if(s.length){const a="http://www.w3.org/1999/xhtml",i=document.createElementNS(a,"svg");i.setAttribute("xmlns",a),i.style.position="absolute",i.style.width="0",i.style.height="0",i.style.overflow="hidden",i.style.display="none";const o=document.createElementNS(a,"defs");i.appendChild(o);for(let l=0;l<s.length;l++)o.appendChild(s[l]);t.appendChild(i)}return t}async function lt(t,e,n){return!n&&e.filter&&!e.filter(t)?null:Promise.resolve(t).then(r=>tn(r,e)).then(r=>nn(t,r,e)).then(r=>on(t,r,e)).then(r=>ln(r,e))}const Kt=/url\((['"]?)([^'"]+?)\1\)/g,cn=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,un=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function fn(t){const e=t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${e})(['"]?\\))`,"g")}function hn(t){const e=[];return t.replace(Kt,(n,r,s)=>(e.push(s),n)),e.filter(n=>!St(n))}async function mn(t,e,n,r,s){try{const a=n?Be(e,n):e,i=Ut(e);let o;return s||(o=await Et(a,i,r)),t.replace(fn(e),`$1${o}$3`)}catch{}return t}function dn(t,{preferredFontFormat:e}){return e?t.replace(un,n=>{for(;;){const[r,,s]=cn.exec(n)||[];if(!s)return"";if(s===e)return`src: ${r};`}}):t}function Jt(t){return t.search(Kt)!==-1}async function Qt(t,e,n){if(!Jt(t))return t;const r=dn(t,n);return hn(r).reduce((a,i)=>a.then(o=>mn(o,i,e,n)),Promise.resolve(r))}async function Z(t,e,n){var r;const s=(r=e.style)===null||r===void 0?void 0:r.getPropertyValue(t);if(s){const a=await Qt(s,null,n);return e.style.setProperty(t,a,e.style.getPropertyPriority(t)),!0}return!1}async function gn(t,e){await Z("background",t,e)||await Z("background-image",t,e),await Z("mask",t,e)||await Z("-webkit-mask",t,e)||await Z("mask-image",t,e)||await Z("-webkit-mask-image",t,e)}async function pn(t,e){const n=v(t,HTMLImageElement);if(!(n&&!St(t.src))&&!(v(t,SVGImageElement)&&!St(t.href.baseVal)))return;const r=n?t.src:t.href.baseVal,s=await Et(r,Ut(r),e);await new Promise((a,i)=>{t.onload=a,t.onerror=e.onImageErrorHandler?(...l)=>{try{a(e.onImageErrorHandler(...l))}catch(d){i(d)}}:i;const o=t;o.decode&&(o.decode=a),o.loading==="lazy"&&(o.loading="eager"),n?(t.srcset="",t.src=s):t.href.baseVal=s})}async function yn(t,e){const r=T(t.childNodes).map(s=>Yt(s,e));await Promise.all(r).then(()=>t)}async function Yt(t,e){v(t,Element)&&(await gn(t,e),await pn(t,e),await yn(t,e))}function wn(t,e){const{style:n}=t;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width=`${e.width}px`),e.height&&(n.height=`${e.height}px`);const r=e.style;return r!=null&&Object.keys(r).forEach(s=>{n[s]=r[s]}),t}const Dt={};async function kt(t){let e=Dt[t];if(e!=null)return e;const r=await(await fetch(t)).text();return e={url:t,cssText:r},Dt[t]=e,e}async function qt(t,e){let n=t.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async i=>{let o=i.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,t.url).href),Xt(o,e.fetchRequestInit,({result:l})=>(n=n.replace(i,`url(${l})`),[i,l]))});return Promise.all(a).then(()=>n)}function jt(t){if(t==null)return[];const e=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=t.replace(n,"");const s=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=s.exec(r);if(l===null)break;e.push(l[0])}r=r.replace(s,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,i="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(i,"gi");for(;;){let l=a.exec(r);if(l===null){if(l=o.exec(r),l===null)break;a.lastIndex=o.lastIndex}else o.lastIndex=a.lastIndex;e.push(l[0])}return e}async function bn(t,e){const n=[],r=[];return t.forEach(s=>{if("cssRules"in s)try{T(s.cssRules||[]).forEach((a,i)=>{if(a.type===CSSRule.IMPORT_RULE){let o=i+1;const l=a.href,d=kt(l).then(g=>qt(g,e)).then(g=>jt(g).forEach(c=>{try{s.insertRule(c,c.startsWith("@import")?o+=1:s.cssRules.length)}catch(B){console.error("Error inserting rule from remote css",{rule:c,error:B})}})).catch(g=>{console.error("Error loading remote css",g.toString())});r.push(d)}})}catch(a){const i=t.find(o=>o.href==null)||document.styleSheets[0];s.href!=null&&r.push(kt(s.href).then(o=>qt(o,e)).then(o=>jt(o).forEach(l=>{i.insertRule(l,i.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",a)}}),Promise.all(r).then(()=>(t.forEach(s=>{if("cssRules"in s)try{T(s.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${s.href}`,a)}}),n))}function vn(t){return t.filter(e=>e.type===CSSRule.FONT_FACE_RULE).filter(e=>Jt(e.style.getPropertyValue("src")))}async function xn(t,e){if(t.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=T(t.ownerDocument.styleSheets),r=await bn(n,e);return vn(r)}function Nt(t){return t.trim().replace(/["']/g,"")}function Sn(t){const e=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{e.add(Nt(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(t),e}async function Un(t,e){const n=await xn(t,e),r=Sn(t);return(await Promise.all(n.filter(a=>r.has(Nt(a.style.fontFamily))).map(a=>{const i=a.parentStyleSheet?a.parentStyleSheet.href:null;return Qt(a.cssText,i,e)}))).join(`
`)}async function En(t,e){const n=e.fontEmbedCSS!=null?e.fontEmbedCSS:e.skipFonts?null:await Un(t,e);if(n){const r=document.createElement("style"),s=document.createTextNode(n);r.appendChild(s),t.firstChild?t.insertBefore(r,t.firstChild):t.appendChild(r)}}async function Rn(t,e={}){const{width:n,height:r}=Gt(t,e),s=await lt(t,e,!0);return await En(s,e),await Yt(s,e),wn(s,e),await Me(s,n,r)}async function _n(t,e={}){const{width:n,height:r}=Gt(t,e),s=await Rn(t,e),a=await ot(s),i=document.createElement("canvas"),o=i.getContext("2d"),l=e.pixelRatio||qe(),d=e.canvasWidth||n,g=e.canvasHeight||r;return i.width=d*l,i.height=g*l,e.skipAutoScale||je(i),i.style.width=`${d}`,i.style.height=`${g}`,e.backgroundColor&&(o.fillStyle=e.backgroundColor,o.fillRect(0,0,i.width,i.height)),o.drawImage(a,0,0,i.width,i.height),i}async function Pn(t,e={}){return(await _n(t,e)).toDataURL()}var Cn=F('<td class="svelte-1lbqxw2"> </td>'),Fn=F('<td class="svelte-1lbqxw2"> </td>'),$n=F('<td class="svelte-1lbqxw2"> </td>'),In=F('<td class="svelte-1lbqxw2"> </td>'),Ln=F('<tr class="svelte-1lbqxw2"><td class="svelte-1lbqxw2"> </td><td class="svelte-1lbqxw2"> </td><!></tr>'),Tn=F('<table class="svelte-1lbqxw2"><thead><tr><th colspan="2" class="svelte-1lbqxw2"> </th><th colspan="5" class="svelte-1lbqxw2">Vaš percentil<sup>*</sup> v skupini</th></tr><tr><th class="svelte-1lbqxw2">Vaja</th><th class="svelte-1lbqxw2">Rezultat</th><th class="svelte-1lbqxw2">vse skupine</th><th class="svelte-1lbqxw2">osnovna</th><th class="svelte-1lbqxw2">rekreativna 1</th><th class="svelte-1lbqxw2">rekreativna 2</th><th class="svelte-1lbqxw2">nadaljevalna</th></tr></thead><tbody class="svelte-1lbqxw2"><tr class="svelte-1lbqxw2"><td class="svelte-1lbqxw2">Skupna ocena</td><td class="svelte-1lbqxw2"> </td><!></tr><!><tr class="svelte-1lbqxw2"><td colspan="7" style="border:none" class="svelte-1lbqxw2"><small>*percentili (od 0% do 100% - več je boljše) okvirno povedo kakšen delež populacije ste premagali</small></td></tr></tbody></table>'),Bn=F("<button>Prenesi zip z vsemi slikami tabel</button>"),An=F("<a>Prenesi zip z vsemi slikami tabel</a>"),Dn=F("<!> <!>",1);function On(t,e){he(e,!1);const n=ge(),r=()=>ye(fe,"$page",n),s=I(),a=I(),i=I(),o=I(),l=["Spodnji odboj sede","Spodnji odboj z dotikom tal","Zgornji odboj sede","Zgornji odboj s ploskom","Zgornji-spodnji odboj","Spodnji servis","Zgornji servis","Napadalni udarec","Dosežena višina"],d=l.map(h=>!0);let g=I([]),c=I(),B=!1;function A(h,f,m){if(f===null)return"/";const p=h.filter(U=>U===f).length+ +!m,x=h.filter(U=>U!==null&&U<f).length,P=h.filter(U=>U!==null).length+ +!m;return`${(100-100*(x+p/2)/P).toFixed(1)}%`}we(()=>{const h=r().url.searchParams;be(h).then(f=>{f&&R(g,f.data)})});let _=I(null),ct=I("");function te(h,f){for(var m=h.split(","),p=m[0].match(/:(.*?);/)[1],x=atob(m[1]),P=x.length,U=new Uint8Array(P);(P-=1)+1;)U[P]=x.charCodeAt(P);return new File([U],f,{type:p})}const ee=h=>new Promise(f=>setTimeout(f,h));async function ne(){R(_,""),await ee(100);let h=[],f=0;for(const m of document.getElementsByTagName("table"))f+=1,console.log(f,m.dataset.name),h.push(Pn(m).then(p=>te(p,m.dataset.name+".png")));if(h.length===1){const m=await h[0];console.log(m),R(ct,m.name),R(_,URL.createObjectURL(m))}else R(ct,"tabele.zip"),R(_,URL.createObjectURL(await Le(await Promise.all(h)).blob()))}rt(()=>(u(g),Ft),()=>{R(c,[u(g),...ve.map(h=>u(g).filter(f=>Ft(f.groups,new Set([h]),!0)))])}),rt(()=>u(c),()=>{R(s,u(c).map(h=>l.map((f,m)=>h.map(p=>p.vals[m]))))}),rt(()=>(u(c),M),()=>{R(a,u(c).map(h=>h.map(f=>st(f.vals,d,M))))}),rt(()=>(u(c),wt),()=>{R(i,u(c).map(h=>l.map((f,m)=>wt(h.map(p=>p.vals[m])))))}),rt(()=>(u(c),M),()=>{R(o,u(c).map(h=>wt(h.map(f=>st(f.vals,d,M)))))}),me(),ue();var Rt=Dn(),_t=H(Rt);W(_t,1,()=>u(g),G,(h,f)=>{var m=Tn(),p=w(m),x=w(p),P=w(x),U=w(P,!0);b(P),yt(),b(x),yt(),b(p);var Pt=V(p),ut=w(Pt),ft=V(w(ut)),se=w(ft,!0);$(()=>L(se,st(u(f).vals,d,M).toFixed(2))),b(ft);var ae=V(ft);at(ae,()=>B,Q=>{var E=nt(),D=H(E);W(D,1,()=>u(a),G,(k,q,j)=>{var Y=Cn(),ht=w(Y,!0);$(()=>L(ht,A(u(q),st(u(f).vals,d,M),u(c)[j].some(N=>u(f).name===N.name)))),b(Y),y(k,Y)}),y(Q,E)},Q=>{var E=nt(),D=H(E);W(D,1,()=>u(o),G,(O,k)=>{var q=Fn(),j=w(q,!0);$(()=>L(j,$t(u(k)(st(u(f).vals,d,M))))),b(q),y(O,q)}),y(Q,E)}),b(ut);var ie=V(ut);W(ie,1,()=>u(f).vals,G,(Q,E,D)=>{var O=Ln(),k=w(O),q=w(k,!0);b(k);var j=V(k),Y=w(j,!0);b(j);var ht=V(j);at(ht,()=>B,N=>{var tt=nt(),mt=H(tt);W(mt,1,()=>u(s),G,(dt,et,gt)=>{var pt=$n(),oe=w(pt,!0);$(()=>L(oe,A(u(et)[D],u(E),u(c)[gt].some(le=>u(f).name===le.name)))),b(pt),y(dt,pt)}),y(N,tt)},N=>{var tt=nt(),mt=H(tt);W(mt,1,()=>u(i),G,(Ct,dt)=>{var et=In(),gt=w(et,!0);$(()=>L(gt,u(E)===null?"/":$t(u(dt)[D](u(E))))),b(et),y(Ct,et)}),y(N,tt)}),b(O),$(()=>{L(q,l[D]),L(Y,u(E)===null?"/":u(E))}),y(Q,O)}),yt(),b(Pt),b(m),$(()=>{bt(m,"data-name",u(f).name),L(U,u(f).name)}),y(h,m)});var re=V(_t,2);at(re,()=>u(_)===null,h=>{var f=Bn();pe("click",f,ne),y(h,f)},h=>{var f=nt(),m=H(f);at(m,()=>u(_).length===0,p=>{var x=ce("Generating...");y(p,x)},p=>{var x=An();$(()=>{bt(x,"href",u(_)),bt(x,"download",u(ct))}),y(p,x)},!0),y(h,f)}),y(t,Rt),de()}export{On as component};
